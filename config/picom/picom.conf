#################################
# Backend and Rendering
#################################
# Use Xrender for maximum compatibility (GLX may fail in VMs or without 3D drivers)
backend = "xrender";

# Force constant repainting to avoid "frozen window" issues
use-damage = false;

# Synchronize with VSync to avoid tearing
vsync = true;

#################################
# Opacity
#################################
inactive-opacity = 1.0;
active-opacity   = 1.0;
frame-opacity    = 1.0;
inactive-opacity-override = false;

#################################
# Shadows
#################################
shadow = true;
shadow-radius = 7;
shadow-offset-x = -7;
shadow-offset-y = -7;
shadow-opacity  = 0.5;
shadow-ignore-shaped = false;

#################################
# Fading Effects
#################################
fading = true;
fade-in-step  = 0.03;
fade-out-step = 0.03;
fade-delta    = 4;

#################################
# Blur (disabled for compatibility)
#################################
blur-method = "none";

#################################
# Performance and Compatibility
#################################
# Do not unredirect fullscreen windows (can cause repaint issues in some WMs)
unredir-if-possible = false;

# Prevent glitches in some window managers
detect-rounded-corners = true;
detect-client-opacity  = true;
detect-transient       = true;

#################################
# Window-specific settings
#################################
wintypes:
{
  tooltip       = { fade = true; shadow = true; focus = true; };
  dock          = { shadow = false; };
  dnd           = { shadow = false; };
  popup_menu    = { opacity = 1.0; };
  dropdown_menu = { opacity = 1.0; };
}
