#################################
# Backend and Rendering
#################################
# Use Xrender for maximum compatibility (GLX may fail in VMs or without 3D drivers)
backend = "xrender";

# Force constant repainting to avoid "frozen window" issues
use-damage = false;

# Synchronize with VSync to avoid tearing
vsync = true;

#################################
# Corner Rounding
#################################
corner-radius = 10;  # Size of the rounded corners in px
# Exclude conditions for rounded corners.
rounded-corners-exclude = [
  "window_type = 'dock'",
  "window_type = 'desktop'"
];

#################################
# Opacity
#################################
inactive-opacity = 0.9;
active-opacity   = 1.0;
frame-opacity    = 1.0;
inactive-opacity-override = false;

#################################
# Shadows
#################################
shadow = true;
shadow-radius = 12;
shadow-offset-x = -4;
shadow-offset-y = -3;
shadow-opacity  = 0.85;

#################################
# Fading Effects
#################################
fading = true;
fade-in-step  = 0.03;
fade-out-step = 0.03;
fade-delta    = 4;

#################################
# Blur (disabled for compatibility)
#################################
blur-method = "none";

#################################
# Performance and Compatibility
#################################
# Do not unredirect fullscreen windows (can cause repaint issues in some WMs)
unredir-if-possible = false;

# Prevent glitches in some window managers
detect-rounded-corners = true;
detect-client-opacity  = true;
detect-transient       = true;

#################################
# Window-specific settings
#################################
wintypes:
{
  tooltip       = { fade = true, shadow = true, opacity = 0.75, focus = true, full-shadow = false };
  dock          = { shadow = true; };
  dnd           = { shadow = false; };
  popup_menu    = { opacity = 0.8; };
  dropdown_menu = { opacity = 0.8; };
}
